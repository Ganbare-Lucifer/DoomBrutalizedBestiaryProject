Actor BabyCaco: Cacodemon
{
	Bloodtype "Blue_Blood"
	+NOBLOODDECALS
	GibHealth 25
	damagefactor "Crush", 10.0
	damagefactor "SSG", 10.0
	damagefactor "killme", 0.0
	Radius 16
	Height 36
	Mass 200
	speed 9
	PainChance 176
	PainChance "Kick", 255
	PainChance "ExtremePunches", 255
	PainChance "Avoid", 90
	//PainChance "Saw", 255
	damagefactor "GibRemoving", 0.0
	Monster
	//Scale 0.2
	+Float
	+NOGRAVITY
	SeeSound "BabyCaco/Sight"
	PainSound "BabyCaco/Pain"
	DeathSound "BabyCaco/Death"
	ActiveSound "BabyCaco/Active"
	Obituary "o% underestimates a Baby Cacodemon."
	HitObituary "o% was nibbles to death by a Baby Cacodemon"
	DropItem "DemonStrengthRune" 5
	damagefactor "Blood", 0.0 
	damagefactor "BlueBlood", 0.0 
	damagefactor "GreenBlood", 0.0
	DropItem "Demonpickup2" 25
	DropItem "Demonpickup" 255
	Species "FlyingBalls"
	Tag "Baby Cacodemon"
	+DONTHURTSPECIES
	+DONTHARMSPECIES
    +DONTHARMCLASS
	States
	{
		/*Death.BlackHole:
			TNT1 A 0 A_Scream
			TNT1 A 0 A_NoBlocking
			TNT1 A 0 A_SpawnItem("BlackHoledBabyCacoDemon")
			Stop
		
		Death.Shirnk:
			TNT1 A 1 A_PlaySound("Shrink", 3)
			TNT1 A 0 A_SpawnItemEx ("BabyCacoShrinkFX1", 0, 0,  5, 0, 0)
			TNT1 A 1 A_SpawnItemEx ("BabyCacoShrinkFX2", 0, 0, 5, 0, 0)
			TNT1 A 1 A_SpawnItemEx ("BabyCacoShrinkFX3", 0, 0, 5, 0, 0)
			TNT1 A 1 A_SpawnItemEx ("BabyCacoShrinkFX4", 0, 0, 5, 0, 0)
			TNT1 A 1 A_SpawnItemEx ("BabyCacoShrinkFX5", 0, 0, 5, 0, 0)
			TNT1 A 1 A_SpawnItemEx ("BabyCacoShrinkFX6", 0, 0, 5, 0, 0)
			TNT1 A 1 A_SpawnItemEx ("BabyCacoShrinkFX7", 0, 0, 5, 0, 0)
			TNT1 A 1 A_SpawnItemEx ("LilBabyCaco", 1)
			stop*/
	
		Pain.Avoid:
			TNT1 A 0
			TNT1 A 0 A_Jump(255, "AvoidLeft", "AvoidRight")
			Goto AvoidLeft
			
		AvoidLeft:
			BCAC A 1 A_FaceTarget
			TNT1 A 0 ThrustThing(angle*256/360+192, 15, 0, 0)
			BCAC A 5 A_FaceTarget
			Goto Missile
		AvoidRight:
			BCAC A 1 A_FaceTarget
			TNT1 A 0 ThrustThing(angle*256/360+64, 15, 0, 0)
			BCAC A 5 A_FaceTarget
			Goto Missile
		ReplaceVanilla:
			TNT1 A 0 A_ChangeFlag("THRUACTORS", 1)
			TNT1 A 0 A_ChangeFlag("COUNDKILL", 0)
			TNT1 A 0 A_SpawnItemEx ("Vanilla_BabyCacoDemon",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION | SXF_TRANSFERSPECIAL| SXF_TRANSFERAMBUSHFLAG, 0)
			Stop
			
		Spawn:
			BCAC A 1 A_Look
			//TNT1 A 0 A_JumpIfInventory("CurbStom_Marine", 1, "FatalityMarine")
			BCAC A 10 A_Look
			Goto Spawn+2
			
		SearchPlayer:
			TNT1 A 0 A_ClearTarget
			TNT1 A 0 A_TakeInventory("EnemyMemory", 40)
			BCAC A 10 A_Look
			TNT1 A 0 A_SetAngle(angle - 30)
			BCAC A 10 A_Look
			TNT1 A 0 A_SetAngle(angle + 30)
			BCAC A 10 A_Look
			TNT1 A 0 A_SetAngle(angle + 30)
			BCAC A 10 A_Look
			TNT1 A 0 A_SetAngle(angle - 30)
			
			
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			
			TNT1 A 0 A_Jump(128, "SearchPlayer")
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			BCAC A 0 A_Wander
			BCAC A 2 A_Look
			Goto SearchPlayer
			
		See:
			TNT1 A 0 A_CheckSight("See2")
			BCAC A 2 A_Chase
			BCAC AA 2 A_Chase ("","")
			TNT1 A 0 A_JumpIfCloser (99, "Melee")
			TNT1 A 0 A_TakeInventory("EnemyMemory", 1)
			Loop
			
		See2:
			BCAC AAAAAA 2 A_Chase
			TNT1 A 0 A_JumpIfInventory("EnemyMemory", 25, "SearchPlayer")
			TNT1 A 0 A_GiveInventory("EnemyMemory", 1)
			Goto See
			
		Missile:
			TNT1 A 0 A_TakeInventory("EnemyMemory", 30)
			TNT1 A 0 A_JumpIfCloser(140, "Melee")
			TNT1 A 0 A_Jump	(198, 3)
			Goto Avoid
			TNT1 AAA 0 
			BCAC B 4 A_FaceTarget
			BCAC C 4 A_FaceTarget
			BCAC A 4 BRIGHT A_CustomMissile("BabyCacoBall", 17, 0, 0, 0)
			Goto See
			
		Melee:
			TNT1 A 0 A_PlaySound("babycaco/melee")
			BCAC B 4 A_FaceTarget
			BCAC C 4 A_Recoil(-5)
			TNT1 A 0 A_CustomMissile("BabyCacodemonBite", 34, 0, 0, 0)
			//TNT1 A 0 A_JumpIfInventory("Fatality_Marine", 1, "FatalityMarine")
			BCAC D 4
			//TNT1 A_JumpIfInventory("CurbStom_Marine", 1, "FatalityMarine")
			Goto See
			
		Pain:
			BCAC D 3
			BCAC D 3 A_Pain
			BCAC E 6
			Goto See
			
//		Possession:
//			TNT1 A 0 A_SetInvulnerable
//			BCAC D 3
//			BCAC D 3 A_Pain
//			"####" "#" 35 ACS_NamedExecuteAlways("Pos - Flicker Effect")
//			TNT1 A 0 A_UnSetInvulnerable
//			Goto See
			
		Pain.Kick:
		Pain.ExetremePunches:
			TNT1 A 0 A_FaceTarget
			BCAC D 6 A_Recoil(5)
			BCAC D 6 A_Pain
			BCAC E 10
			Goto See
		Pain:
			BCAC D 3
			BCAC D 3 A_Pain
			TNT1 A 0 A_Jump (128, 3)
			Goto Avoid
			TNT1 AAA 0
			BCAC E 6
			Goto See
		
		Avoid:
			NULL A 0 A_FaceTarget
			BCAC A 6 A_FastChase
			NULL A 0 A_FaceTarget
			BCAC A 6 A_FastChase
			NULL A 0 A_FaceTarget
			BCAC A 6 A_FastChase
			NULL A 6 A_FaceTarget
			BCAC A 6 A_FastChase
			
			BCAC B 5 A_FaceTarget
			BCAC C 5 A_FaceTarget
			BCAC D 5 BRIGHT A_HeadAttack
				Goto See
				
		Death.Shotgun:
			TNT1 A 0
			TNT1 A 0 A_JumpIfCloser(500, "Death.Brutal")
			Goto Death.Brutal
		Death.SSG:
			TNT1 A 0
			TNT1 A 0 A_JumpIfCloser(500, "Death.Brutal")
			Goto Death.Brutal
			
		Death:
			//TNT1 A 0 A_Jump(118, "Death2")
			BCAC F 8 A_Scream
			BCAC G 8 A_NoBlocking
			TNT1 AAAA 0 A_CustomMissile ("Blue_FlyingBlood", 15, 0, random (0, 360), 2, random (0, 160))
			BCAC HIJKL 8
			TNT1 A 0 A_SpawnItem("BlueBloodPool", 1)
			BCAC  L -1 A_SetFloorClip
			Stop
			
		Death.Brutal:
			TNT1 A 0 A_NoBlocking
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile ("Blue_FlyingBlood", 48, 0, random (0, 360), 2, random (0, 160))
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile ("Blue_FlyingBlood", 48, 0, random (0, 360), 2, random (0, 160))
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile ("Blue_FlyingBlood", 48, 0, random (0, 360), 2, random (40, 120))
			TNT1 AAA 0 A_CustomMissile ("BlueBloodMist", 48, 0, random (0, 360), 2, random (0, 160))
			TNT1 AA 0 A_CustomMissile ("BlueGuts", 48, 0, random (0, 360), 2, random (0, 160))
			TNT1 AA 0 A_CustomMissile ("Blue_FlyingBlood", 48, 0, random (0, 360), 2, random (0, 160))
			TNT1 AAAAA 0 A_CustomMissile ("BlueGuts", 32, 0, random (0, 360), 2, random (0, 160))
			TNT1 AAAAAAAA 0 A_CustomMissile ("BlueGuts", 48, 0, random (0, 360), 2, random (0, 160))
			Stop
			
		Raise:
			BCAC L 8 A_UnSetFloorClip
			BCAC KJIHGF 8
			Goto See
		}
	}
	
Actor BabyCacoBall
{
	Radius 3
	Height 4
	Speed 11
	FastSpeed 10
	Damage 3
	Projectile
	+RANDOMIZE
	RenderStyle Add
	Alpha 1
	SeeSound "cacoball"
	DeathSound "cacoballImpact"
	Decal "Scorch"
	States
	{
		Spawn:
			TNT1 A 0 A_PlaySound ("CacoBallLoop", 1, 1)
			BCAB AA 2 BRIGHT A_SpawnItem("RedFlareMedium",0,0)
			BCAB BB 2 BRIGHT A_SpawnItem("BlueFlareMedium",0,0)
			loop
		Death:
			 TNT1 A 0 A_StopSound(1)
			 TNT1 AAAA 0 A_CustomMissile ("ShoqueAzul", 3, 0, random (0, 360), 2, random (0, 360))
			 BCAB CDE 6 BRIGHT
			 Stop
	}
}

ACTOR BabyCacodemonBite: ImpAttack
{
	+THRUGHOST
	DamageType HKFT
	Damage 7
}

/////////////////////////////////////============================Vanilla--------///////////////////
Actor Vanilla_BabyCacoDemon : Babycaco
{
	DropItem DemonstregthRune 5
	States
	{
		Spawn:
			BCAC A 1 A_Look
			BCAC B 5 A_Look
	}
}