actor AngelOfDeath
{
  obituary "%o was destroyed by the Angel of Death."
  health 1000
  radius 30
  height 80
  meleeDamage 3 
  mass 1000
  speed 7
  painchance 50
  SEESOUND "angeld/sight"
  painsound "angeld/pain"
  deathsound "angeld/death"
  activesound "angeld/active"
  MONSTER
  +FLOORCLIP
  Tag "Angel of Death"
  states
  {
  Spawn:
    LMDA AB 10 A_Look
    loop
  See:
    LMDA AABBCCDD 3 A_Chase
    loop
  Missile:
    LMDA A 0 A_FaceTarget
    LMDA A 0 A_Jump (127,1)
    goto Pipebomb
    LMDA A 0
    goto Chaingun
  Pipebomb:
    LMDA I 8 A_FaceTarget
    LMDA J 3 bright A_CustomMissile ("PipeBomb", 62, 0)
    LMDA H 8 
    LMDA I 4 A_FaceTarget
    LMDA J 3 bright A_CustomMissile ("PipeBomb", 62, 0)
    LMDA H 8
    LMDA H 0 A_Jump (127,1)
    Goto See
    LMDA I 6 A_FaceTarget
    LMDA J 3 bright A_CustomMissile ("PipeBomb", 62, 0)
    LMDA H 8
    Goto See
  Chaingun:
    LMDA E 10 A_FaceTarget
    LMDA F 3 bright A_CustomMissile ("BulletPierce", 62, 18, 0, 0)
    LMDA F 3 bright A_CustomMissile ("BulletPierce", 62, -18, 0, 0)
    LMDA G 3 bright A_CustomMissile ("BulletPierce", 62, 18, 0, 0)
    LMDA G 3 bright A_CustomMissile ("BulletPierce", 62, -18, 0, 0)
    LMDA G 1 A_CPosRefire
    goto Chaingun+1
  Pain:
    LMDA H 2
    LMDA H 2 A_Pain
    Goto See
  Death:
    LMDA J 4 A_Scream
    LMDA KLMNOPQRSTU 6 A_NoBlocking
    LMDA V -1
    Stop
  Death.Ice:
  Death.Freeze:
  Death.Frost:
	TNT1 A 0 A_ChangeFlag("SHOOTABLE", 0)
	TNT1 A 0 A_ChangeFlag("SOLID", 0)
	TNT1 A 0 A_SpawnItem("FrozenAngelOfDeath")
	Stop
  }
}

actor PipeBomb
{
  spawnid 179
  radius 6
  height 0
  speed 27
  damage 1
  seesound "pipe/see"
  deathsound "pipe/explode"
  PROJECTILE
  +FOILINVUL
  states
  {
  Spawn:
    LMPI A 3 bright
    LMPI B 3 bright A_PlaySound("pipe/whoosh")
    LMPI C 3 bright
    LMPI D 3 bright A_PlaySound("pipe/whoosh")
    LMPI E 3 bright
    loop
  Death:
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,0)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,22)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,45)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,67)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,90)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,119)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,135)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,157)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,180)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,202)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,225)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,247)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,270)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,292)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,315)
    XPAC A 0 bright A_CustomMissile("BulletPierce",0,0,337)
    XPAC BCDEFGHIJ 4 bright
    stop
  }
}

actor BulletPierce
{
  radius 3
  height 0
  speed 35
  damage 2
  seesound "bullet/shoot"
  deathsound "bullet/explode"
  PROJECTILE
  +RIPPER
  +INVULNERABLE
  +FOILINVUL
  states
  {
  Spawn:
    LMPB A 1 bright
    loop
  Death:
    LMBW C 0 bright A_CustomMissile("BulletRic1",0,0,random(0,360))
    stop
  }
}

actor BulletRic1
{
  radius 3
  height 0
  speed 35
  damage 2
  seesound "bullet/explode"
  deathsound "bullet/explode"
  PROJECTILE
  +RIPPER
  +INVULNERABLE
  +FOILINVUL
  states
  {
  Spawn:
    LMPB A 1 bright
    loop
  Death:
    LMBW C 0 A_Jump (65, 2)
    LMBW C 0 bright A_CustomMissile("BulletRic2",0,0,random(0,360))   
    stop
    LMBW C 0 bright A_CustomMissile("BulletRic3",0,0,random(0,360))   
    stop
  }
}

actor BulletRic2
{
  radius 3
  height 0
  speed 32
  damage 2
  seesound "bullet/explode"
  deathsound "bullet/explode"
  PROJECTILE
  +RIPPER
  +INVULNERABLE
  +FOILINVUL
  states
  {
  Spawn:
    LMPB A 1 bright
    loop
  Death:
    LMBW C 0 bright 
    stop
  }
}

actor BulletRic3
{
  radius 3
  height 0
  speed 35
  damage 2
  seesound "bullet/explode"
  deathsound "bullet/explode"
  PROJECTILE
  +RIPPER
  +INVULNERABLE
  +FOILINVUL
  states
  {
  Spawn:
    LMPB A 1 bright
    loop
  Death:
    LMBW C 0 bright A_CustomMissile("BulletRic1",0,0,random(0,360))
    stop
  }
}